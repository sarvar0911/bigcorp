{%  include "base.html" %}

{% load static %}

<style>

    #timer {
        font-family: sans-serif;
        font-size: 24px;
        color: red;
        font-weight: bold;
        display: inline-block;
    }
</style>

{% block title %}
    <title>Email confirmation</title>
{% endblock title %}

{% block content %}

<div class="container bg-white shadow-md p-3">
    {% if success %}

        <div class="alert alert-success" role="alert">
            <h4 class="alert-heading">Email confirmed</h4>
            <p>Your email address has been successfully confirmed. Thank you for registering!</p>
            <p>You will be redirected to the home page in <span  id="timer"></span> seconds</p>
        </div>

    {% else %}
    <div class="alert alert-danger" role="alert">
        <h4 class="alert-heading">Email verification error</h4>
        <p>The link for email verification is invalid or has expired. Please register again.</p>
    </div>
    {% endif %}

</div>

<script>

    // Set a timeout to redirect the user to the other page after 10 seconds

    $(document).ready(function() {
        // Set the initial timer value
        var timerValue = 7;
        $('#timer').html(timerValue);

        // Start a timer that updates the timer every second
        setInterval(function() {
            // Update the timer value
            timerValue--;

            // Display the timer value
            $('#timer').html(timerValue);

            // If the timer value reaches 0, stop the timer
            if (timerValue === 0) {
                window.location.href = '/shop/';
            }
        }, 1000);
    });
    </script>
{% endblock content %}